{"version":3,"file":"libcore.min.js","sources":["../src/type.js","../src/object.js","../src/chain.js","../src/processor.js","../src/array.js","../src/string.js","../src/json.js","../src/registry.js","../src/promise.js","../node_modules/rollup-plugin-node-globals/src/global.js","../src/detect.js","../src/index.js"],"sourcesContent":["'use strict';\n\nimport { validSignature } from \"./detect.js\";\n\n\nvar OBJECT_SIGNATURE = '[object Object]',\n    ARRAY_SIGNATURE = '[object Array]',\n    NULL_SIGNATURE = '[object Null]',\n    UNDEFINED_SIGNATURE = '[object Undefined]',\n    NUMBER_SIGNATURE = '[object Number]',\n    STRING_SIGNATURE = '[object String]',\n    BOOLEAN_SIGNATURE = '[object Boolean]',\n    METHOD_SIGNATURE = '[object Function]',\n    DATE_SIGNATURE = '[object Date]',\n    REGEX_SIGNATURE = '[object RegExp]',\n    STRING = 'string',\n    NUMBER = 'number',\n    BOOLEAN = 'boolean',\n    OBJECT = Object,\n    O = OBJECT.prototype,\n    toString = O.toString;\n\n/** is object **/\nfunction w3cIsObject(subject) {\n    return toString.call(subject) === OBJECT_SIGNATURE;\n}\n\nfunction ieIsObject(subject) {\n    return subject !== null &&\n            subject !== void(0) &&\n            toString.call(subject) === OBJECT_SIGNATURE;\n}\n\nexport let object = validSignature ?\n                        w3cIsObject : ieIsObject;\n\nexport {\n\n        OBJECT_SIGNATURE as OBJECT,\n        ARRAY_SIGNATURE as ARRAY,\n        NULL_SIGNATURE as NULL,\n        UNDEFINED_SIGNATURE as UNDEFINED,\n        NUMBER_SIGNATURE as NUMBER,\n        STRING_SIGNATURE as STRING,\n        BOOLEAN_SIGNATURE as BOOLEAN,\n        METHOD_SIGNATURE as METHOD,\n        METHOD_SIGNATURE as FUNCTION,\n        DATE_SIGNATURE as DATE,\n        REGEX_SIGNATURE as REGEX\n\n    };\n\n/** is object signature **/\nexport\n    function signature(subject) {\n        if (subject === undefined) {\n            return UNDEFINED_SIGNATURE;\n        }\n        \n        if (subject === null ||\n            (typeof subject === NUMBER && !isFinite(subject))) {\n            return NULL_SIGNATURE;\n        }\n        \n        return toString.call(subject);\n    }\n\n/** is native object **/\nexport\n    function nativeObject(subject) {\n        var O = OBJECT;\n        var constructor, result;\n        \n        if (signature(subject) === OBJECT_SIGNATURE) {\n            constructor = subject.constructor;\n            \n            // check constructor\n            if (O.hasOwnProperty.call(subject, 'constructor')) {\n                delete subject.constructor;\n                result = subject.constructor === O;\n                subject.constructor = constructor;\n                return result;\n            }\n            return constructor === O;\n        }\n        \n        return false;\n    }\n    \n/** is string **/\nexport\n    function string(subject, allowEmpty) {\n        return (typeof subject === STRING ||\n                O.toString.call(subject) === STRING_SIGNATURE) &&\n    \n                (allowEmpty === true || subject.length !== 0);\n    }\n    \n/** is number **/\nexport\n    function number(subject) {\n        return typeof subject === NUMBER && isFinite(subject);\n    }\n    \n/** is scalar **/\nexport\n    function scalar(subject) {\n        switch (typeof subject) {\n        case NUMBER: return isFinite(subject);\n        case BOOLEAN:\n        case STRING: return true;\n        }\n        return false;\n    }\n    \n/** is array **/\nexport\n    function array(subject, notEmpty) {\n        return toString.call(subject) === ARRAY_SIGNATURE &&\n                (notEmpty !== true || subject.length !== 0);\n    }\n    \n/** is function **/\nexport\n    function method(subject) {\n        return toString.call(subject) === METHOD_SIGNATURE;\n    }\n\n\n\n/** is date **/\nexport\n    function date(subject) {\n        return toString.call(subject) === DATE_SIGNATURE;\n    }\n\n/** is regexp **/\nexport\n    function regex(subject) {\n        return toString.call(subject) === REGEX_SIGNATURE;\n    }\n\n/** is promise or thenable **/\nexport\n    function thenable(subject) {\n        // filter non-thenable scalar natives\n        switch (subject) {\n        case undefined:\n        case null:\n        case true:\n        case false:\n        case NaN: return false;\n        }\n        // filter scalar\n        switch (signature(subject)) {\n        case NUMBER_SIGNATURE:\n        case STRING_SIGNATURE:\n        case BOOLEAN_SIGNATURE: return false;\n        }\n        \n        return 'then' in subject && method(subject.then);\n    }\n    \n/** is array-like iterable **/\nexport\n    function iterable(subject) {\n        var len;\n        \n        // filter non-iterable scalar natives\n        switch (subject) {\n        case undefined:\n        case null:\n        case true:\n        case false:\n        case NaN: return false;\n        }\n        \n        // try signature\n        switch (signature(subject)) {\n        case NUMBER_SIGNATURE:\n        case BOOLEAN_SIGNATURE:\n            // bogus js engines provides readonly \"length\" property to functions\n        case METHOD_SIGNATURE: return false;\n    \n        case STRING_SIGNATURE:\n        case ARRAY_SIGNATURE: return true;\n        }\n    \n        return 'length' in subject &&\n                number(len = subject.length) &&\n                len > -1;\n    }\n    \nexport\n    function type(subject, isType) {\n        var len;\n        switch (isType) {\n        case \"scalar\":\n            switch (signature(subject)) {\n            case STRING_SIGNATURE:\n            case NUMBER_SIGNATURE:\n            case BOOLEAN_SIGNATURE: return true;\n            }\n            return false;\n        \n        case \"regexp\":\n        case \"regex\":\n            isType = \"RegExp\";\n            break;\n        \n        case \"method\":\n            isType = \"Function\";\n            break;\n        \n        case \"native\":\n        case \"nativeObject\":\n            return nativeObject(subject);\n        }\n        \n        if (typeof isType === STRING) {\n            len = isType.length;\n            if (len) {\n                return signature(subject) === '[object ' +\n                                            isType.charAt(0).toUpperCase() +\n                                            isType.substring(1, len) +\n                                            ']';\n            }\n        }\n        return false;\n    }","'use strict';\n\n/**\n * @external libcore\n */\n\nimport {\n            object,\n            string,\n            number,\n            array,\n            regex,\n            date,\n            nativeObject,\n            signature as objectSignature,\n            REGEX,\n            DATE,\n            ARRAY,\n            OBJECT,\n            METHOD\n            \n        } from \"./type.js\";\n\n\nvar Obj = Object,\n    O = Obj.prototype,\n    EACH = typeof Obj.getOwnPropertyNames === 'function' ?\n                es5each : es3each,\n    OHasOwn = O.hasOwnProperty,\n    ARRAY_INDEX_RE = /^[1-9][0-9]*|0$/;\n    \n\nfunction empty() {\n    \n}\n\nfunction isValidObject(target) {\n    var signature = objectSignature(target);\n    \n    switch (signature) {\n    case REGEX:\n    case DATE:\n    case ARRAY:\n    case OBJECT:\n    case METHOD: return signature;\n    }\n    return false;\n}\n\n/**\n * Assign properties of source Object to target Object\n * @alias module:libcore.assign\n * @param {Object} target - the target object\n * @param {Object} source - the source object containing properties\n *                          to be assigned to target object\n * @param {Object} [defaults] - object containing default properties\n *                          which will be assigned first to\n *                          target before source.\n * @param {Boolean} [ownedOnly] - only assign properties owned by \"source\"\n * @returns {Object} target object from first parameter\n */\n\n\nfunction apply(value, name) {\n    /*jshint validthis:true */\n    this[name] = value;\n}\n\n/**\n * Relocate and rename properties of source Object into target Object.\n * \n * @name libcore.rehash\n * @function\n * @param {Object|Function} target - the target object\n * @param {Object|Function} source - the source object containing properties\n *                                  to be relocated.\n * @param {Object} access - the rename map object containing \"renamed property\"\n *                          as map object's property name, and\n *                          \"source property name\" as map object's\n *                          property value. (e.g. { \"newname\": \"from source\" })\n * @returns {Object} target object from first parameter\n */\n\n\nfunction applyProperties(value, name) {\n    /*jshint validthis:true */\n    var target = this;\n    target[0][name] = target[1][value];\n    target = null;\n}\n\nfunction assignAll(target, source, defaults) {\n    var onAssign = apply,\n        eachProperty = EACH;\n        \n    if (defaults) {\n        eachProperty(defaults, onAssign, target, false);\n    }\n    \n    eachProperty(source, onAssign, target);\n    \n    return target;\n}\n\n\n/**\n * Iterates all iteratable property of an object calling \"handler\" parameter on\n *      each iteration.\n * @name libcore.each\n * @function\n * @param {Object} subject\n * @param {Function} handler - the callback of each iteration of\n *                          \"subject\" object's property.\n * @param {*} [scope] - \"this\" object to use inside the \"handler\" parameter\n * @param {boolean} [hasown] - performs checking to only include\n *                          source object property that is overridden\n *                          (Object.protototype.hasOwnProperty() returns true)\n *                          when this parameter is set to true.\n * @returns {Object} The subject parameter\n */\nfunction es3each(subject, handler, scope, hasown) {\n    var hasOwn = OHasOwn,\n        noChecking = hasown === false;\n    var name;\n    \n    if (!isValidObject(subject)) {\n        throw new Error(\"Invalid [subject] parameter.\");\n    }\n    \n    if (arguments.length > 3 && typeof hasown !== 'boolean') {\n        throw new Error(\"Invalid [hasown] hasOwnProperty parameter.\");\n    }\n    \n    if (scope === void(0)) {\n        scope = null;\n    }\n    \n    for (name in subject) {\n        if ((noChecking || hasOwn.call(subject, name)) &&\n            handler.call(scope, subject[name], name, subject) === false) {\n            break;\n        }\n    }\n    \n    return subject;\n}\n\nfunction es5each(subject, handler, scope, hasown) {\n    var hasOwn = OHasOwn,\n        noChecking = hasown === false;\n    var names, name, c, l;\n    \n    if (!isValidObject(subject)) {\n        throw new Error(\"Invalid [subject] parameter.\");\n    }\n    \n    if (arguments.length > 3 && typeof hasown !== 'boolean') {\n        throw new Error(\"Invalid [hasown] hasOwnProperty parameter.\");\n    }\n    \n    if (scope === void(0)) {\n        scope = null;\n    }\n    \n    names = Obj.getOwnPropertyNames(subject);\n    for (c = -1, l = names.length; l--;) {\n        name = names[++c];\n        if ((noChecking || hasOwn.call(subject, name)) &&\n            handler.call(scope, subject[name], name, subject) === false) {\n            break;\n        }\n    }\n    \n    return subject;\n}\n\n/**\n * Checks if \"subject\" Object contains overridden property.\n *      The same symantics of Object.prototype.hasOwnProperty.\n *      \n * @name libcore.contains\n * @function\n * @param {Object} subject\n * @param {String} property - Property Name to inspect\n * @returns {boolean} True if subject Object contains property and dirty.\n *                      False if subject Object's property do not exist or not\n *                      dirty.\n */\n\n\n\n\n/**\n * Clears Object properties. This method only deletes overridden properties and\n *      will not fill \"undefined\" to non-owned properties from its prototype.\n * @name libcore.clear\n * @function\n * @param {Object} subject\n * @returns {Object} subject parameter.\n */\n\nfunction applyClear() {\n    delete arguments[2][arguments[1]];\n}\n\n/**\n * Assign properties of source Object to target Object only if property do not\n *      exist or not overridden from the target Object.\n * @name libcore.fillin\n * @function\n * @param {Object} target - the target object\n * @param {Object} source - the source object containing properties\n *                          to be assigned to target object\n * @param {boolean} [hasown] - performs checking to only include\n *                          source object property that is overridden\n *                          (Object.protototype.hasOwnProperty() returns true)\n *                          when this parameter is set to true.\n * @returns {Object} subject parameter.\n */\nfunction fillin(target, source, hasown) {\n    if (!isValidObject(target)) {\n        throw new Error(\"Invalid [target] parameter\");\n    }\n    EACH(source, applyFillin, target, hasown !== false);\n    return target;\n}\n\nfunction applyFillin(value, name) {\n    /* jshint validthis:true */\n    var target = this;\n    if (!contains(target, name)) {\n        target[name] = value;\n    }\n    target = null;\n}\n\n/**\n * Builds instance of \"Class\" parameter without executing its constructor.\n * @name libcore.instantiate\n * @function\n * @param {Function} Class\n * @param {Object} overrides\n * @returns {Object} Instance created from Class without executing\n *                      its constructor.\n */\n\n\n/**\n * Deep compares two scalar, array, object, regex and date objects\n * @name libcore.compare\n * @function\n * @param {*} object1\n * @param {*} object2\n * @returns {boolean} True if scalar, regex, date, object properties, or array\n *                      items of object1 is identical to object2.\n */\n\n\nfunction compareLookback(object1, object2, references) {\n    var isObject = object,\n        isArray = array,\n        isRegex = regex,\n        isDate = date,\n        onCompare = onEachCompareObject,\n        each = EACH,\n        me = compareLookback,\n        depth = references.length;\n    var len, context;\n    \n    switch (true) {\n        \n    // prioritize same object, same type comparison\n    case object1 === object2: return true;\n    \n    // native object comparison\n    case isObject(object1):\n        if (!isObject(object2)) {\n            return false;\n        }\n        \n        // check if object is in references\n        if (references.lastIndexOf(object1) !== -1 &&\n            references.lastIndexOf(object2) !== -1) {\n            return true;\n        }\n        \n        // proceed\n        references[depth] = object1;\n        references[depth + 1] = object2;\n        \n        context = [object2, references, true];\n        each(object1, onCompare, context);\n        if (!context[2]) {\n            return false;\n        }\n        \n        context[0] = object1;\n        each(object2, onCompare, context);\n        if (!context[2]) {\n            return false;\n        }\n        \n        references.length = depth;\n        \n        return true;\n    \n    // array comparison\n    case isArray(object1):\n        if (!isArray(object2)) {\n            return false;\n        }\n        \n        // check references\n        if (references.lastIndexOf(object1) !== -1 &&\n            references.lastIndexOf(object2) !== -1) {\n            return true;\n        }\n        \n        len = object1.length;\n        \n        if (len !== object2.length) {\n            return false;\n        }\n        \n        // proceed\n        references[depth] = object1;\n        references[depth + 1] = object2;\n        \n        for (; len--;) {\n            if (!me(object1[len], object2[len], references)) {\n                return false;\n            }\n        }\n        \n        references.length = depth;\n        \n        return true;\n        \n    \n    // RegExp compare\n    case isRegex(object1):\n        return isRegex(object2) && object1.source === object2.source;\n    \n    // Date compare\n    case isDate(object1):\n        return isDate(object2) && object1.toString() === object2.toString();\n    }\n    \n    return false;\n}\n\nfunction onEachCompareObject(value, name) {\n    /* jshint validthis:true */\n    var context = this,\n        target = context[0],\n        result = name in target ?\n                    compareLookback(value, target[name], context[1]) :\n                    false;\n    context[2] = result;\n    \n    return result;\n}\n\n/**\n * Clones scalar, array, object, regex or date objects\n * @name libcore.clone\n * @function\n * @param {*} data - scalar, array, object, regex or date object to clone.\n * @param {boolean} [deep] - apply deep clone to object properties or\n *                          array items.\n * @returns {*} Cloned object based from data\n */\n\n\n\nfunction cloneObject(data, parents, cloned) {\n    var depth = parents.length,\n        recreated = {},\n        context = [recreated,\n                   parents,\n                   cloned];\n    \n    parents[depth] = data;\n    cloned[depth] = recreated;\n    \n    EACH(data, onEachClonedProperty, context);\n    \n    parents.length = cloned.length = depth;\n    \n    return recreated;\n}\n\nfunction cloneArray(data, parents, cloned) {\n    var depth = parents.length,\n        onProperty = onEachClonedProperty,\n        recreated = [],\n        context = [recreated,\n                   parents,\n                   cloned],\n        c = 0,\n        l = data.length;\n    \n    parents[depth] = data;\n    cloned[depth] = recreated;\n    \n    for (; l--; c++) {\n        onProperty.call(context,\n                        data[c],\n                        c,\n                        data);\n    }\n    \n    parents.length = cloned.length = depth;\n    \n    return recreated;\n}\n\nfunction onEachClonedProperty(value, name) {\n    var /* jshint validthis:true */\n        context = this,\n        isNative = nativeObject(value),\n        parents = context[1],\n        cloned = context[2];\n    var index;\n    \n    if (isNative || array(value)) {\n        index = parents.lastIndexOf(value);\n        value = index === -1 ?\n                    (isNative ?\n                        cloneObject :\n                        cloneArray)(value, parents, cloned) :\n                    \n                    cloned[index];\n    }\n    else {\n        value = clone(value, false);\n    }\n    \n    context[0][name] = value;\n}\n\nfunction onMaxNumericIndex(value, name, context) {\n    if (ARRAY_INDEX_RE.test(name)) {\n        context[0] = Math.max(1 * name, context[0]);\n    }\n}\n\n\n\nexport { EACH as each };\n\nexport\n    function assign(target, source, defaults, ownedOnly) {\n        var onAssign = apply,\n            is = isValidObject,\n            eachProperty = EACH,\n            len = arguments.length;\n        \n        if (!is(target)) {\n            throw new Error(\"Invalid [target] parameter.\");\n        }\n        \n        if (!is(source)) {\n            throw new Error(\"Invalid [source] parameter.\");\n        }\n        \n        if (typeof defaults === 'boolean') {\n            ownedOnly = defaults;\n            len = 2;\n        }\n        else {\n            ownedOnly = ownedOnly !== false;\n        }\n        \n        if (is(defaults)) {\n            eachProperty(defaults, onAssign, target, ownedOnly);\n        }\n        else if (len > 2) {\n            throw new Error(\"Invalid [defaults] parameter.\");\n        }\n        \n        eachProperty(source, onAssign, target, ownedOnly);\n        \n        return target;\n    }\n\nexport \n    function rehash(target, source, access) {\n        var is = isValidObject,\n            context = [target, source];\n            \n        if (!is(target)) {\n            throw new Error(\"Invalid [target] parameter.\");\n        }\n        \n        if (!is(source)) {\n            throw new Error(\"Invalid [source] parameter.\");\n        }\n        \n        if (!object(access)) {\n            throw new Error(\"Invalid [access] parameter.\");\n        }\n        \n        EACH(access, applyProperties, context);\n        context = context[0] = context[1] =  null;\n        return target;\n    }\n\nexport\n    function contains(subject, property) {\n    \n        if (!string(property) && !number(property)) {\n            throw new Error(\"Invalid [property] parameter.\");\n        }\n        \n        return OHasOwn.call(subject, property);\n    }\n\nexport\n    function instantiate(Class, overrides) {\n        empty.prototype = Class.prototype;\n        \n        if (object(overrides)) {\n            return assign(new empty(), overrides);\n        }\n        return new empty();\n    }\n    \nexport\n    function clone(data, deep) {\n        var isNative = nativeObject(data);\n        \n        deep = deep === true;\n        \n        if (isNative || array(data)) {\n            return deep ?\n                        \n                        (isNative ? cloneObject : cloneArray)(data, [], []) :\n                        \n                        (isNative ? assignAll({}, data) : data.slice(0));\n        }\n        \n        if (regex(data)) {\n            return new RegExp(data.source, data.flags);\n        }\n        else if (date(data)) {\n            return new Date(data.getFullYear(),\n                        data.getMonth(),\n                        data.getDate(),\n                        data.getHours(),\n                        data.getMinutes(),\n                        data.getSeconds(),\n                        data.getMilliseconds());\n        }\n        \n        return data;\n    }\n    \nexport\n    function compare(object1, object2) {\n        return compareLookback(object1, object2, []);\n    }\n    \nexport\n    function fillin(target, source, hasown) {\n        if (!isValidObject(target)) {\n            throw new Error(\"Invalid [target] parameter\");\n        }\n        EACH(source, applyFillin, target, hasown !== false);\n        return target;\n    }\n\nexport\n    function clear(subject) {\n        EACH(subject, applyClear, null, true);\n        return subject;\n    }\n    \nexport\n    function maxObjectIndex(subject) {\n        var context;\n        \n        if (array(subject)) {\n            return subject.length - 1;\n        }\n        \n        if (isValidObject(subject)) {\n            \n            context = [-1];\n            EACH(subject, onMaxNumericIndex, context);\n            return context[0];\n        }\n        return false;\n    }\n","'use strict';\n\n\nvar CHAIN = null;\n\nexport\n    function use(chain) {\n        CHAIN = chain;\n    }\n    \nexport\n    function getModule() {\n        return CHAIN;\n    }","'use strict';\n\nimport {\n            string,\n            method,\n            iterable\n        } from \"./type.js\";\n\nimport { getModule } from \"./chain.js\";\n\n\nvar G = global,\n    // 1 = namespace, 4 = position, 5 = item\n    NAME_RE = /^(([^\\.]+\\.)*)((before|after)\\:)?([a-zA-Z0-9\\_\\-\\.]+)$/,\n    POSITION_BEFORE = 1,\n    POSITION_AFTER = 2,\n    RUNNERS = {},\n    NAMESPACES = {},\n    INVALID_NAME = 'Invalid [name] parameter.',\n    INVALID_HANDLER = 'Invalid [handler] parameter.',\n    NATIVE_SET_IMMEDIATE = !!G.setImmediate,\n    setAsync = NATIVE_SET_IMMEDIATE ?\n                    nativeSetImmediate : timeoutAsync,\n    clearAsync = NATIVE_SET_IMMEDIATE ?\n                    nativeClearImmediate : clearTimeoutAsync;\n                    \nfunction empty() {\n}\n\nfunction get(name) {\n    var info = getRunners(name);\n    \n    if (info) {\n        return info[0][info[1]];\n    }\n    \n    return void(0);\n}\n\nfunction getRunners(name) {\n    var list = RUNNERS,\n        parsed = parseName(name);\n    var access, position;\n    \n    if (parsed) {\n        access = ':' + parsed[1];\n        \n        if (access in list) {\n            position = parsed[0];\n            return [list[access],\n                    getPositionAccess(position),\n                    position];\n            \n        }\n    }\n    \n    return void(0);\n}\n\nfunction purgeRunners(name, after) {\n    var info = getRunners(name);\n    var runners, access;\n    \n    if (info) {\n        access = info[1];\n        \n        switch (after) {\n        case true:\n            access = 'after';\n            break;\n        \n        case false:\n            access = 'before';\n            break;\n        \n        case null:\n        case undefined:\n            access = false;\n        }\n\n        if (!access || access === 'before') {\n            runners = info[0].before;\n            runners.splice(0, runners.length);\n        }\n        \n        if (!access || access === 'after') {\n            runners = info[0].after;\n            runners.splice(0, runners.length);\n        }\n        \n        \n    }\n    \n    return getModule();\n}\n\nfunction getPositionAccess(input) {\n    return input === POSITION_BEFORE ? 'before' : 'after';\n}\n\nfunction parseName(name) {\n    var match = string(name) && name.match(NAME_RE);\n    var position, namespace;\n    \n    if (match) {\n        namespace = match[1];\n        position = match[4] === 'before' ? POSITION_BEFORE : POSITION_AFTER;\n        return [position, (namespace || '') + match[5]];\n        \n    }\n    \n    return void(0);\n    \n}\n\nfunction timeoutAsync(handler) {\n    if (!method(handler)) {\n        throw new Error(INVALID_HANDLER);\n    }\n    return G.setTimeout(handler, 1);\n}\n\nfunction clearTimeoutAsync(id) {\n    try {\n        G.clearTimeout(id);\n    }\n    catch (e) {}\n    return getModule();\n}\n\nfunction nativeSetImmediate (handler) {\n    if (!method(handler)) {\n        throw new Error(INVALID_HANDLER);\n    }\n    return G.setImmediate(handler);\n}\n\nfunction nativeClearImmediate(id) {\n    try {\n        G.clearImmediate(id);\n    }\n    catch (e) {}\n    return getModule();\n}\n\nfunction BaseMiddleware() {\n}\n\nBaseMiddleware.prototype = {\n    constructor: BaseMiddleware,\n    \n    run: function (name, args, scope) {\n        return run(this.access + name, args, scope);\n    },\n    \n    register: function (name, handler) {\n        register(this.access + name, handler);\n        \n        return this;\n    },\n    \n    clear: function (name, after) {\n        var access = this.access;\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        if (arguments.length > 1) {\n            purgeRunners(access + name, after);\n        }\n        else {\n            purgeRunners(access + name);\n        }\n        return this;\n        \n    }\n};\n\nexport\n    {\n        setAsync,\n        clearAsync\n    };\n\nexport\n    function run(name, args, scope) {\n        var c, l, runners, result;\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        runners = get(name);\n        \n        if (runners) {\n            \n            if (typeof scope === 'undefined') {\n                scope = null;\n            }\n            \n            args = iterable(args) ?\n                    Array.prototype.slice.call(args, 0) : [];\n            \n            for (c = -1, l = runners.length; l--;) {\n                result = runners[++c].apply(scope, args);\n                if (result !== undefined) {\n                    args = [result];\n                }\n            }\n            \n            args.splice(0, args.length);\n            \n            return result;\n        }\n        \n        return undefined;\n    }\n\nexport\n    function register(name, handler) {\n        var list = RUNNERS;\n        var access, items, parsed;\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        parsed = parseName(name);\n        \n        if (!method(handler)) {\n            throw new Error(INVALID_HANDLER);\n        }\n        \n        if (parsed) {\n            \n            name = parsed[1];\n            access = ':' + name;\n            if (!(access in list)) {\n                \n                list[access] = {\n                    name: name,\n                    before: [],\n                    after: []\n                };\n            }\n            \n            items = list[access][getPositionAccess(parsed[0])];\n            \n            items[items.length] = handler;\n        }\n        \n        return getModule();\n    }\n    \nexport\n    function clearRunner(name, after) {\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        if (arguments.length > 1) {\n            purgeRunners(name, after);\n        }\n        else {\n            purgeRunners(name);\n        }\n        \n        return getModule();\n    }\n\nexport\n    function middleware(name) {\n        var list = NAMESPACES;\n        var access, registered, proto;\n        \n        function Middleware() {\n            BaseMiddleware.apply(this, arguments);\n        }\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n\n        access = name + '.';\n        if (!(access in list)) {\n            empty.prototype = BaseMiddleware.prototype;\n            proto = new empty(access);\n            proto.constructor = Middleware;\n            proto.access = access;\n            Middleware.prototype = proto;\n            \n            list[access] = registered = new Middleware();\n            \n            return registered;\n        }\n        \n        return list[access];\n    }\n\n\n\n        \n\n","'use strict';\n\n\n// motivation of set operations:\n// https://www.probabilitycourse.com/chapter1/1_2_2_set_operations.php\nimport { indexOfSupport } from './detect.js';\n\nimport { assign } from \"./object.js\";\n\nimport { array as isArray } from \"./type.js\";\n\n    //DETECT = require('./detect.js'),\n    //OBJECT = require('./object.js'),\n    //TYPE = require('./type.js'),\n\nvar INVALID_ARRAY1 = 'Invalid [array1] parameter.',\n    INVALID_ARRAY2 = 'Invalid [array2] parameter.',\n    A = Array.prototype;\n\nfunction indexOf(subject) {\n    /*jshint validthis:true */\n    var array = this,\n        l = array.length,\n        c = -1;\n    \n    for (; l--;) {\n        if (subject === array[++c]) {\n            array = null;\n            return c;\n        }\n    }\n    \n    return -1;\n}\n\nfunction lastIndexOf(subject) {\n    /*jshint validthis:true */\n    var array = this,\n        l = array.length;\n        \n    for (; l--;) {\n        if (subject === array[l]) {\n            array = null;\n            return l;\n        }\n    }\n    \n    return -1;\n}\n\n// apply polyfill\nif (!indexOfSupport) {\n    assign(A, {\n        indexOf: indexOf,\n        lastIndexOf: lastIndexOf\n    });\n}\n\n/**\n * Creates a union of two arrays\n * @name libcore.unionList\n * @function\n * @param {Array} array1 - source array\n * @param {Array} array2 - array to merge\n * @param {boolean} [clone] - Filters array1 parameter with union of array2\n *                          if this parameter is false. It returns a new set\n *                          of array containing union of array1 and array2\n *                          otherwise.\n * @returns {Array} union of first two array parameters\n */\nexport\n    function unionList(array1, array2, clone) {\n        var isarray = isArray;\n        var subject, l, len, total;\n        \n        if (!isarray(array1)) {\n            throw new Error(INVALID_ARRAY1);\n        }\n        \n        if (!isarray(array2)) {\n            throw new Error(INVALID_ARRAY2);\n        }\n        \n        array1 = clone === true ? array1.slice(0) : array1;\n        \n        // apply\n        array1.push.apply(array1, array2);\n        total = array1.length;\n        \n        // apply unique\n        found: for (l = total; l--;) {\n            subject = array1[l];\n            \n            // remove if not unique\n            for (len = total; len--;) {\n                if (l !== len && subject === array1[len]) {\n                    total--;\n                    array1.splice(l, 1);\n                    continue found;\n                }\n            }\n        }\n        \n        return array1;\n    }\n\n/**\n * Creates an intersection of two arrays\n * @name libcore.intersect\n * @function\n * @param {Array} array1 - source array \n * @param {Array} array2 - array to intersect\n * @param {boolean} [clone] - Filters array1 parameter with intersection of\n *                          array2 if this parameter is false. It returns a\n *                          new set of array containing intersection of\n *                          array1 and array2 otherwise.\n * @returns {Array} intersection of first two array parameters\n */\nexport \n    function intersectList(array1, array2, clone) {\n        var isarray = isArray;\n        var subject, l1, l2, total1, total2;\n        \n        if (!isarray(array1)) {\n            throw new Error(INVALID_ARRAY1);\n        }\n        \n        if (!isarray(array2)) {\n            throw new Error(INVALID_ARRAY2);\n        }\n        \n        total1 = array1.length;\n        total2 = array2.length;\n            \n        // create a copy\n        array1 = clone === true ? array1.slice(0) : array1;\n        \n        found: for (l1 = total1; l1--;) {\n            subject = array1[l1];\n            foundSame: for (l2 = total2; l2--;) {\n                if (subject === array2[l2]) {\n                    // intersect must be unique\n                    for (l2 = total1; l2--;) {\n                        if (l2 !== l1 && subject === array1[l2]) {\n                            break foundSame;\n                        }\n                    }\n                    continue found;\n                }\n            }\n            array1.splice(l1, 1);\n            total1--;\n        }\n        \n        return array1;\n    }\n\n\n/**\n * Creates a difference of two arrays\n * @name libcore.differenceList\n * @function\n * @param {Array} array1 - source array \n * @param {Array} array2 - array to be applied as difference of array1\n * @param {boolean} [clone] - Filters array1 parameter with difference of array2\n *                          if this parameter is false. It returns a new set\n *                          of array containing difference of\n *                          array1 and array2 otherwise.\n * @returns {Array} difference of first two array parameters\n */\nexport\n    function differenceList(array1, array2, clone) {\n        var isarray = isArray;\n        var subject, l1, l2, total1, total2;\n        \n        if (!isarray(array1)) {\n            throw new Error(INVALID_ARRAY1);\n        }\n        \n        if (!isarray(array2)) {\n            throw new Error(INVALID_ARRAY2);\n        }\n        \n        total1 = array1.length;\n        total2 = array2.length;\n            \n        // create a copy\n        array1 = clone === true ? array1.slice(0) : array1;\n        \n        found: for (l1 = total1; l1--;) {\n            subject = array1[l1];\n            \n            // remove if found\n            for (l2 = total2; l2--;) {\n                if (subject === array2[l2]) {\n                    array1.splice(l1, 1);\n                    total1--;\n                    continue found;\n                }\n            }\n            \n            // diff must be unique\n            for (l2 = total1; l2--;) {\n                if (l2 !== l1 && subject === array1[l2]) {\n                    array1.splice(l1, 1);\n                    total1--;\n                    continue found;\n                }\n            }\n        }\n        \n        return array1;\n    }\n\n","'use strict';\n\n\nimport {\n        string,\n        number\n    } from \"./type.js\";\n\nvar HALF_BYTE = 0x80,\n    SIX_BITS = 0x3f,\n    ONE_BYTE = 0xff,\n    fromCharCode = String.fromCharCode,\n    BASE64_MAP =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n    NOT_BASE64_RE = /[^a-zA-Z0-9\\+\\/\\=]/g,\n    BASE64_EXCESS_REMOVE_RE = /[^a-zA-Z0-9\\+\\/]/,\n    CAMEL_RE = /[^a-z]+[a-z]/ig,\n    UNCAMEL_RE = /\\-*[A-Z]/g,\n    TRIM_RE = /^\\s+|\\s+$/g,\n    INVALID_SUBJECT = 'Invalid [subject] parameter.';\n\nfunction applyCamelize(all) {\n    return all.charAt(all.length - 1).toUpperCase();\n}\n\nfunction applyUncamelize(all) {\n    return '-' + all.charAt(all.length -1).toLowerCase();\n}\n\n\nexport\n    function camelize(subject) {\n        return subject.replace(CAMEL_RE, applyCamelize);\n    }\n    \nexport\n    function uncamelize(subject) {\n        return subject.replace(UNCAMEL_RE, applyUncamelize);\n    }\n    \n\nexport\n    function utf2bin(subject) {\n        var half = HALF_BYTE,\n            sixBits = SIX_BITS,\n            code2char = fromCharCode,\n            utf8 = [],\n            ul = 0;\n        var code, c, l;\n        \n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n        \n        for (c = -1, l = subject.length; l--;) {\n            code = subject.charCodeAt(++c);\n            \n            if (code < half) {\n                utf8[ul++] = code2char(code);\n            }\n            else if (code < 0x800) {\n                utf8[ul++] = code2char(0xc0 | (code >> 6));\n                utf8[ul++] = code2char(half | (code & sixBits));\n            }\n            else if (code < 0xd800 || code > 0xdfff) {\n                utf8[ul++] = code2char(0xe0 | (code >> 12));\n                utf8[ul++] = code2char(half | ((code >> 6) & sixBits));\n                utf8[ul++] = code2char(half | (code  & sixBits));\n            }\n            else {\n                l--;\n                code = 0x10000 + (((code & 0x3ff)<<10)\n                          | (subject.charCodeAt(++c) & 0x3ff));\n                \n                utf8[ul++] = code2char(0xf0 | (code >> 18));\n                utf8[ul++] = code2char(half | ((code >> 12) & sixBits));\n                utf8[ul++] = code2char(half | ((code >> 6) & sixBits));\n                utf8[ul++] = code2char(half | (code >> sixBits));\n                \n            }\n        }\n        \n        return utf8.join('');\n    }\n\n\n// based from https://gist.github.com/weishuaiwang/4221687\nexport\n    function bin2utf(subject) {\n        var code2char = fromCharCode;\n        var utf16, ul, c, l, code;\n        \n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n        \n        utf16 = [];\n        ul = 0;\n        for (c = -1, l = subject.length; l--;) {\n            code = subject.charCodeAt(++c);\n            switch (code >> 4) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n            case 6:\n            case 7:\n                // 0xxxxxxx\n                utf16[ul++] = subject.charAt(c);\n                break;\n            case 12:\n            case 13:\n                // 110x xxxx 10xx xxxx\n                l--;\n                utf16[ul++] = code2char(((code & 0x1F) << 6) |\n                                        (subject.charCodeAt(++c) & 0x3F));\n                break;\n            case 14:\n                // 1110 xxxx10xx xxxx10xx xxxx\n                utf16[ul++] = code2char(((code & 0x0F) << 12) |\n                                        ((subject.charCodeAt(++c) & 0x3F) << 6) |\n                                        ((subject.charCodeAt(++c) & 0x3F) << 0));\n                l -= 2;\n                break;\n            }\n        }\n        \n        return utf16.join(\"\");\n    }\n\nexport\n    function encode64(subject) {\n        var map = BASE64_MAP,\n            buffer = [],\n            bl = 0,\n            c = -1,\n            excess = false,\n            pad = map.charAt(64);\n        var l, total, code, flag, end, chr;\n        \n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n\n        // decode to ascii\n        subject = utf2bin(subject);\n        l = total = subject.length;\n        \n        for (; l--;) {\n            code = subject.charCodeAt(++c);\n            flag = c % 3;\n            \n            switch (flag) {\n            case 0:\n                chr = map.charAt((code & 0xfc) >> 2);\n                excess = (code & 0x03) << 4;\n                break;\n            case 1:\n                chr = map.charAt(excess | (code & 0xf0) >> 4);\n                excess = (code & 0x0f) << 2;\n                break;\n            case 2:\n                chr = map.charAt(excess | (code & 0xc0) >> 6);\n                excess = code & 0x3f;\n            }\n            buffer[bl++] = chr;\n            \n            end = !l;\n            if ((end || flag === 2)) {\n                buffer[bl++] = map.charAt(excess);\n            }\n            \n            if (!l) {\n                l = bl % 4;\n                for (l = l && 4 - l; l--;) {\n                    buffer[bl++] = pad;\n                }\n                break;\n            }\n        }\n        \n        return buffer.join('');\n        \n    }\n\nexport\n    function decode64(subject) {\n        var map = BASE64_MAP,\n            oneByte = ONE_BYTE,\n            buffer = [],\n            bl = 0,\n            c = -1,\n            code2str = fromCharCode;\n        var l, code, excess, chr, flag;\n        \n        if (!string(subject, true) || NOT_BASE64_RE.test(subject)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n        \n        subject = subject.replace(BASE64_EXCESS_REMOVE_RE, '');\n        l = subject.length;\n        \n        for (; l--;) {\n            code = map.indexOf(subject.charAt(++c));\n            flag = c % 4;\n            \n            switch (flag) {\n            case 0:\n                chr = 0;\n                break;\n            case 1:\n                chr = ((excess << 2) | (code >> 4)) & oneByte;\n                break;\n            case 2:\n                chr = ((excess << 4) | (code >> 2)) & oneByte;\n                break;\n            case 3:\n                chr = ((excess << 6) | code) & oneByte;\n            }\n            \n            excess = code;\n            \n            if (!l && flag < 3 && chr < 64) {\n                break;\n            }\n    \n            if (flag) {\n                buffer[bl++] = code2str(chr);\n            }\n        }\n        \n        return bin2utf(buffer.join(\"\"));\n    }\n\nexport\n    function trim(subject) {\n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n\n        return subject ? subject.replace(TRIM_RE, \"\") : subject;\n    }","'use strict';\n\nimport {\n            string,\n            method,\n            array,\n            object,\n            signature as typeSignature,\n            NUMBER,\n            STRING,\n            BOOLEAN,\n            REGEX,\n            DATE,\n            ARRAY,\n            OBJECT,\n            METHOD\n        } from \"./type.js\";\n\nimport {\n            assign as objectAssign,\n            clone as objectClone,\n            compare as objectCompare,\n            maxObjectIndex,\n            contains\n        } from \"./object.js\";\n\n//TYPE = require(\"./type.js\"),\n//    OBJECT = require(\"./object.js\"),\n\n\nvar NUMERIC_RE = /^([1-9][0-9]*|0)$/,\n    ARRAY_INDEX_RE = /^([1-9][0-9]*|0|)$/,\n    ERROR_NATIVE_OBJECT = \"Root [subject] requires native Object to accept \" +\n                            \"non-numeric property name.\",\n    ERROR_PATH_INVALID = 'Invalid [path] parameter.',\n    START = \"start\",\n    START_ESCAPED = \"start_escaped\",\n    QUEUE = \"queue\",\n    END = \"end\",\n    END_EMPTY = \"end_empty\",\n    STATE = {\n        \"start\": {\n            \"[\": \"bracket_start\",\n            \"'\": \"any_sq_start\",\n            '\"': \"any_dq_start\",\n            \"default\": \"any\",\n            \"\\\\\": \"any_escape\"\n        },\n        \n        \"bracket_start\": {\n            \"]\": \"property_end\",\n            \"'\": \"sq_start\",\n            '\"': \"dq_start\",\n            \"default\": \"bracket_any\"\n        },\n        \n        \"any_sq_start\": {\n            \"'\": \"property_end\",\n            \"\\\\\": \"any_sq_escape\",\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_sq\": {\n            \"'\": \"property_end\",\n            \"\\\\\": \"any_sq_escape\",\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_sq_escape\": {\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_dq_start\": {\n            '\"': \"property_end\",\n            \"\\\\\": \"any_dq_escape\",\n            \"default\": \"any_dq\"\n        },\n        \n        \"any_dq\": {\n            '\"': \"property_end\",\n            \"\\\\\": \"any_dq_escape\",\n            \"default\": \"any_dq\"\n        },\n        \n        \"any_dq_escape\": {\n            \"default\": \"any_dq\"\n        },\n        \n        \"sq_start\": {\n            \"'\": \"bracket_end\",\n            \"\\\\\": \"sq_escape\",\n            \"default\": \"sq\"\n        },\n        \"sq\": {\n            \"'\": \"bracket_end\",\n            \"\\\\\": \"sq_escape\",\n            \"default\": \"sq\"\n        },\n        \"sq_escape\": {\n            \"default\": \"sq\"\n        },\n        \"dq_start\": {\n            '\"': \"bracket_end\",\n            \"\\\\\": \"dq_escape\",\n            \"default\": \"dq\"\n        },\n        \"dq\": {\n            '\"': \"bracket_end\",\n            \"\\\\\": \"dq_escape\",\n            \"default\": \"dq\"\n        },\n        \"dq_escape\": {\n            \"default\": \"dq\"\n        },\n        \n        \"bracket_any\": {\n            \"]\": \"property_end\",\n            \"\\\\\": \"bracket_any_escape\",\n            \"default\": \"bracket_any\"\n        },\n        \n        \"bracket_any_escape\": {\n            \"default\": \"bracket_any\"\n        },\n        \n        \"bracket_end\": {\n            \"]\": \"property_end\"\n        },\n        \n        \"any\": {\n            \".\": \"start\",\n            \"\\\\\": \"any_escape\",\n            \"[\": \"bracket_start\",\n            \"default\": \"any\"\n        },\n        \"any_escape\": {\n            \"default\": \"any\"\n        },\n        \n        \"property_end\": {\n            \"[\": \"bracket_start\",\n            \".\": \"start\"\n        }\n    },\n    STATE_ACTION = {\n        \"start\": {\n            \"any\": START,\n            \"any_escape\": START_ESCAPED\n        },\n        \n        \"any_sq_start\": {\n            \"any_sq\": START,\n            \"property_end\": END_EMPTY\n            \n        },\n        \n        \"any_sq\": {\n            \"any_sq\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"any_sq_escape\": {\n            \"any_sq\": QUEUE\n        },\n        \n        \"any_dq_start\": {\n            \"any_dq\": START,\n            \"property_end\": END_EMPTY\n            \n        },\n        \n        \"any_dq\": {\n            \"any_dq\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"any_dq_escape\": {\n            \"any_dq\": QUEUE\n        },\n        \n        \"any\": {\n            \"any\": QUEUE,\n            \"start\": END,\n            \"bracket_start\": END\n        },\n        \"any_escape\": {\n            \"any\": QUEUE,\n            \"bracket_start\": END,\n            \"start\": START\n        },\n        \n        \"bracket_start\": {\n            \"bracket_any\": START,\n            \"property_end\": END_EMPTY\n        },\n        \n        \"bracket_any\": {\n            \"bracket_any\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"bracket_any_escape\": {\n            \"bracket_any\": QUEUE\n        },\n        \n        \"sq_start\": {\n            \"sq\": START,\n            \"bracket_end\": END_EMPTY\n        },\n        \"sq\": {\n            \"sq\": QUEUE,\n            \"bracket_end\": END\n        },\n        \"sq_escape\": {\n            \"sq\": QUEUE\n        },\n        \n        \"dq_start\": {\n            \"dq\": START,\n            \"bracket_end\": END_EMPTY\n        },\n        \"dq\": {\n            \"dq\": QUEUE,\n            \"bracket_end\": END\n        },\n        \"dq_escape\": {\n            \"dq\": QUEUE\n        }\n    };\n\n\n\n\nfunction onParsePath(property, last, context) {\n    context[context.length] = property;\n}\n\n\n\nfunction isAccessible(subject, item) {\n    var signature = typeSignature(subject);\n    \n    switch (signature) {\n    case NUMBER:\n        return isFinite(subject) && item in Number.prototype && signature;\n        \n    case STRING:\n        return item in String.prototype && signature;\n    \n    case BOOLEAN:\n        return item in Boolean.prototype && signature;\n    \n    case REGEX:\n    case DATE:\n    case ARRAY:\n    case OBJECT:\n    case METHOD:\n        if (item in subject) {\n            return signature;\n        }\n    }\n    return false;\n}\n\nfunction isWritable(subject) {\n    var signature = typeSignature(subject);\n    \n    switch (signature) {\n    case REGEX:\n    case DATE:\n    case ARRAY:\n    case OBJECT:\n    case METHOD:\n        return signature;\n    }\n    return false;\n}\n\nfunction isJSONWritable(subject) {\n    var signature = typeSignature(subject);\n    \n    switch (signature) {\n    case ARRAY:\n    case OBJECT:\n        return signature;\n    }\n    return false;\n}\n\nfunction findCallback(item, last, operation) {\n    var subject = operation[1];\n    \n    if (!isAccessible(subject, item)) {\n        operation[0] = void(0);\n        return false;\n    }\n    \n    operation[last ? 0 : 1] = subject[item];\n    return true;\n}\n\n\n\n\n\n\n\nfunction onPopulatePath(item, last, context) {\n    var subject = context[1],\n        iswritable = isWritable,\n        writable = iswritable(subject),\n        U = void(0),\n        success = false;\n        \n    // populate\n    if (!last) {\n        // populate\n        if (writable) {\n            // set object\n            if (!(item in subject)) {\n                subject[item] = {};\n                success = true;\n                \n            }\n            // allow only when writable\n            else if (iswritable(subject[item])) {\n                success = true;\n            }\n        }\n    \n        context[1] = success ? subject[item] : U;\n        \n    }\n    // end it with writable state?\n    else {\n        success = writable;\n        context[2] = success && item;\n        \n    }\n   \n    return success;\n\n}\n\n\n\n\nfunction onRemovePath(item, last, context) {\n    var subject = context[1],\n        iswritable = isWritable,\n        writable = iswritable(subject),\n        U = void(0),\n        success = false;\n        \n    // populate\n    if (!last) {\n        if (writable && item in subject) {\n            \n            // go to next\n            if (iswritable(subject[item])) {\n                success = true;\n            }\n            // still a success, nothing to remove\n            else {\n                context[3] = true;\n            }\n\n        }\n    \n        context[1] = success ? subject[item] : U;\n        \n    }\n    // end it with writable state?\n    else {\n        success = writable;\n        context[2] = success && item;\n        context[3] = true;\n    }\n    \n    return success;\n}\n\n\n\n\n\n\n\nfunction existsCallback(item, last, context) {\n    var subject = context[0],\n        exists = isAccessible(subject, item);\n    \n    if (exists) {\n        context[0] = subject[item];\n    }\n    \n    if (last) {\n        context[1] = !!exists;\n    }\n    \n    return exists;\n}\n\n\n\n\nexport\n    function jsonParsePath(path) {\n        var items = [];\n        \n        return jsonEach(path, onParsePath, items) && items.length ?\n                    items : null;\n        \n    }\n    \nexport\n    function jsonFind(path, object) {\n        var operation = [void(0), object];\n        jsonEach(path, findCallback, operation);\n        operation[1] = null;\n        return operation[0];\n    }\n    \nexport\n    function jsonCompare(path, object1, object2) {\n        return objectCompare(jsonFind(path, object1), object2);\n    }\n\nexport\n    function jsonClone(path, object, deep) {\n        return objectClone(jsonFind(path, object), deep === true);\n    }\n    \nexport\n    function jsonEach(path, callback, arg1, arg2, arg3, arg4, arg5) {\n        var map = STATE,\n            action = STATE_ACTION,\n            start = START,\n            start_escaped = START_ESCAPED,\n            queue = QUEUE,\n            end = END,\n            end_empty = END_EMPTY,\n            DEFAULT = \"default\";\n        var c, l, chr, state, stateObject, items, len, last,\n            next, actionObject, buffer, bl, buffered, pending,\n            start_queue, restart;\n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        if (!method(callback)) {\n            throw new Error(\"Invalid [callback] parameter\");\n        }\n        \n        buffer = bl = false;\n        state = \"start\";\n        stateObject = map.start;\n        \n        items = [];\n        len = pending = 0;\n        \n        for (c = -1, l = path.length; l--;) {\n            buffered = false;\n            chr = path.charAt(++c);\n            last = !l;\n            \n            // find next state\n            if (chr in stateObject) {\n                next = stateObject[chr];\n            }\n            else if (DEFAULT in stateObject) {\n                next = stateObject[DEFAULT];\n            }\n            else {\n                return null;\n            }\n            \n            // check for actions\n            if (state in action) {\n                actionObject = action[state];\n                if (next in actionObject) {\n                    start_queue = restart = false;\n                    \n                    switch (actionObject[next]) {\n                    \n                    case start:\n                        start_queue = true;\n                    /* falls through */\n                    case start_escaped:\n                            if (buffer !== false) {\n                                return false;\n                            }\n                            \n                            if (start_queue && !last) {\n                                buffer = [chr];\n                                bl = 1;\n                            }\n                            else {\n                                buffer = [];\n                                bl = 0;\n                            }\n                            \n                            // exit if not last\n                            if (!last) {\n                                break;\n                            }\n                    /* falls through */\n                    case queue:\n                            if (buffer === false) {\n                                return false;\n                            }\n                            buffer[bl++] = chr;\n                            // exit if not last\n                            if (!last) {\n                                break;\n                            }\n                    /* falls through */\n                    case end:\n                            if (buffer === false) {\n                                return false;\n                            }\n                            items[len++] = buffer.join('');\n                            buffer = bl = false;\n                        break;\n                    case end_empty:\n                            if (buffer !== false) {\n                                return false;\n                            }\n                            items[len++] = '';\n    \n                        break;\n                    }\n                }\n            }\n            \n            \n            state = next;\n            stateObject = map[state];\n            \n            if (pending < len - 1) {\n                if (callback(items[pending++],\n                            false,\n                            arg1,\n                            arg2,\n                            arg3,\n                            arg4,\n                            arg5) === false) {\n                    return true;\n                }\n            }\n            // last\n            if (last) {\n                l = len - pending;\n                for (; l--;) {\n                    if (callback(items[pending++],\n                                !l,\n                                arg1,\n                                arg2,\n                                arg3,\n                                arg4,\n                                arg5) === false) {\n                        return true;\n                    }\n                }\n                break;\n            }\n    \n        }\n        \n        return true;\n    \n    }\n    \nexport\n    function jsonSet(path, subject, value, overwrite) {\n        var typeArray = ARRAY,\n            apply = objectAssign,\n            writable = isWritable;\n        var context, name, current, valueSignature, currentSignature,\n            arrayOperation, arrayPush, canApply;\n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // main subject should be accessible and native object\n        context = [void(0), subject, false];\n        jsonEach(path, onPopulatePath, context);\n        name = context[2];\n        \n        if (name !== false) {\n            subject = context[1];\n            valueSignature = writable(value);\n            arrayOperation = array(subject) && NUMERIC_RE.test(name);\n            \n            if (name in subject) {\n                current = subject[name];\n                currentSignature = writable(current);\n            }\n            else {\n                current = undefined;\n                currentSignature = null;\n            }\n            \n            canApply = valueSignature && !!currentSignature;\n            arrayPush = canApply &&\n                            valueSignature === typeArray &&\n                            currentSignature === typeArray;\n                            \n            \n            // finalize overwrite type\n            switch (overwrite) {\n            // only available if subject is array and name is numeric index\n            case 'insert':\n                overwrite = !arrayOperation;\n                if (arrayOperation) {\n                    subject.splice(name * 1, 0, value);\n                }\n                break;\n            \n            // only available if subject canApply\n            case 'apply':\n                overwrite = !canApply;\n                if (canApply) {\n                    apply(current, value);\n                }\n                break;\n            \n            // only available if current is array and value is array\n            case 'push':\n                overwrite = !arrayPush;\n                if (arrayPush) {\n                    current.push.apply(current, value);\n                }\n                break;\n            \n            // only available if current is array and value is array\n            case 'unshift':\n                overwrite = !arrayPush;\n                if (arrayPush) {\n                    current.splice.apply(current, [0, 0].concat(value));\n                }\n                break;\n            \n            // default is no overwrite if possible\n            case false:\n            /* falls through */\n            default:\n                // can apply or push only if non-scalar current and value\n                overwrite = !canApply;\n                if (canApply) {\n                    if (arrayPush) {\n                        current.push.apply(current, value);\n                    }\n                    else {\n                        apply(current, value);\n                    }\n                }\n            }\n            \n            // plain overwrite!\n            if (overwrite === true) {\n                subject[name] = value;\n            }\n            \n            return true;\n        \n        }\n        return false;\n    }\n    \nexport\n    function jsonUnset(path, subject) {\n        var context, name, returnValue;\n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // main subject should be accessible and native object\n        context = [void(0), subject, false, false];\n        jsonEach(path, onRemovePath, context);\n        \n        name = context[2];\n        returnValue = context[3];\n        \n        // found! and must be removed\n        if (returnValue && name !== false) {\n            \n            subject = context[1];\n            \n            if (!(name in subject)) {\n                \n                returnValue = false;\n            }\n            else {\n            \n                // remove item\n                if (array(subject) && NUMERIC_RE.test(name)) {\n                    subject.splice(name * 1, 1);\n                    \n                }\n                else {\n                    \n                    delete subject[name];\n                    // check if removable\n                    returnValue = !(name in subject);\n                    \n                }\n                \n            }\n        }\n        \n        return returnValue;\n    }\n\nexport\n    function jsonFill(path, subject, value) { //, overwrite) {\n        var typeArray = ARRAY,\n            getMax = maxObjectIndex,\n            apply = objectAssign,\n            has = contains,\n            arrayIndexRe = ARRAY_INDEX_RE,\n            iswritable = isJSONWritable,\n            isSubjectArray = array(subject);\n            \n        var parent, c, l, item, parentIndex,\n            property, arrayIndex, writable;\n            \n        \n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // root subject should be an object\n        if (!object(subject) && !isSubjectArray) {\n            return false;\n        }\n        \n        // unable to create items from path\n        path = jsonParsePath(path);\n        if (!path || !path.length) {\n            return false;\n        }\n        \n        parent = subject;\n        parentIndex = path[0];\n        \n        // finalize parent index\n        if (!parentIndex) {\n            parentIndex = getMax(parent) + 1;\n        }\n        \n        l = path.length -1;\n        \n        for (c = 0; l--;) {\n            item = path[++c];\n            \n            // only determine if arrayIndex or not,\n            //      resolve this later if it will turn into parentIndex\n            arrayIndex = arrayIndexRe.test(item);\n            \n            // finalize property\n            if (has(parent, parentIndex)) {\n                property = parent[parentIndex];\n                writable = iswritable(property);\n                \n                // recreate array into object to support \"named\" property\n                if (writable === typeArray && !arrayIndex) {\n                    property = apply({}, property);\n                    delete property.length;\n                    \n                }\n                // contain current property\n                else if (!writable) {\n                    property = arrayIndex ?\n                        [property] : {\"\": property};\n                }\n    \n            }\n            // error! unable to replace root object\n            else if (isSubjectArray && parent === subject && !arrayIndex) {\n                throw new Error(ERROR_NATIVE_OBJECT);\n            }\n            // populate\n            else {\n                property = arrayIndex ? [] : {};\n            }\n            \n            parent = parent[parentIndex] = property;\n            parentIndex = item;\n            \n            // resolve empty parentIndex\n            if (!item) {\n                parentIndex = getMax(parent) + 1;\n            }\n            \n        }\n        \n        // if not overwrite, then fill-in value in array or object\n        //if (overwrite !== true && has(parent, parentIndex)) {\n        //    property = parent[parentIndex];\n        //    \n        //    // append\n        //    if (T.array(property)) {\n        //        parent = property;\n        //        parentIndex = parent.length;\n        //    }\n        //    else {\n        //        parent = parent[parentIndex] = [property];\n        //        parentIndex = 1;\n        //    }\n        //}\n        \n        parent[parentIndex] = value;\n        \n        return true;\n        \n    }\n    \nexport\n    function jsonExists(path, subject) {\n        var operation = [subject, false];\n        \n        jsonEach(path, existsCallback, operation);\n        operation[0] = null;\n        \n        return operation[1];\n    }\n    \n","'use strict';\n\n\nimport {\n            string,\n            signature,\n            \n            STRING,\n            NUMBER,\n            OBJECT,\n            ARRAY\n\n        } from \"./type.js\";\n        \nimport {\n            assign,\n            contains,\n            clear,\n            clone\n        } from \"./object.js\";\n        \nimport {\n            jsonFind,\n            jsonFill,\n            jsonUnset,\n            jsonExists\n        } from \"./json.js\";\n\n\nvar ERROR_NAME = 'Invalid [name] parameter.',\n    ERROR_PATH = 'Invalid [path] parameter.';\n\nfunction create() {\n    return new Registry();\n}\n\nfunction isIndex(name) {\n    switch (signature(name)) {\n    case STRING:\n    case NUMBER: return true;\n    }\n    return false;\n}\n\nfunction Registry() {\n    this.data = {};\n}\n\nRegistry.prototype = {\n    constructor: Registry,\n    \n    onApply: function (value) {\n        assign(this.data, value, true);\n    },\n    \n    onSet: function (name, value) {\n        this.data[name] = value;\n    },\n    \n    get: function (name) {\n        var list = this.data;\n        \n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        if (contains(list, name)) {\n            return list[name];\n        }\n        \n        return void(0);\n    },\n    \n    set: function (name, value) {\n        switch (signature(name)) {\n        case OBJECT:\n        case ARRAY:\n            this.onApply(name);\n            break;\n        \n        case STRING:\n        case NUMBER:\n            this.onSet(name, value);\n            break;\n            \n        default:\n            throw new Error(ERROR_NAME);\n        }\n        \n        return this;\n    },\n    \n    unset: function (name) {\n        var list = this.data;\n        \n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        if (contains(list, name)) {\n            delete list[name];\n        }\n        \n        return this;\n    },\n    \n    find: function (path) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        return jsonFind(path, this.data);\n    },\n    \n    insert: function (path, value) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        jsonFill(path, this.data, value, true);\n        \n        return this;\n    \n    },\n    \n    remove: function (path) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        jsonUnset(path, this.data);\n        \n        return this;\n    },\n    \n    exists: function (name) {\n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        return contains(this.data, name);\n    },\n    \n    pathExists: function (path) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        return jsonExists(path, this.data);\n    },\n    \n    assign: function(value) {\n        switch (signature(value)) {\n        case OBJECT:\n        case ARRAY:\n            this.onApply(value);\n            return this;\n        \n        default:\n            throw new Error(\"Invalid [value] parameter\");\n        }\n        \n    },\n    \n    clear: function () {\n        clear(this.data);\n        return this;\n    },\n    \n    clone: function () {\n        var list = this.data;\n        return clone(list, true);\n    }\n    \n};\n\n\nexport default create;\n\n\n","'use strict';\n\nimport {\n\n            method,\n            thenable,\n            iterable as isIterable\n\n        } from \"./type.js\";\n    \nimport {\n\n            assign,\n            instantiate\n\n        } from \"./object.js\";\n\nimport { setAsync } from \"./processor.js\";\n\n\nvar slice = Array.prototype.slice,\n    G = global,\n    ERROR_ITERABLE = 'Invalid [iterable] parameter.',\n    INDEX_STATUS = 0,\n    INDEX_DATA = 1,\n    INDEX_PENDING = 2;\n\nfunction createPromise(instance) {\n    var Class = Promise;\n    \n    if (!(instance instanceof Class)) {\n        instance = instantiate(Class);\n    }\n    \n    instance.__state = [null,\n                        void(0),\n                        [],\n                        null,\n                        null];\n    return instance;\n}\n\nfunction resolveValue(data, callback) {\n    function resolve(data) {\n        try {\n            callback(true, data);\n        }\n        catch (error) {\n            callback(false, error);\n        }\n    }\n    \n    if (thenable(data)) {\n        data.then(resolve,\n                  function (error) {\n                        callback(false, error);\n                    });\n    }\n    else {\n        resolve(data);\n    }\n}\n\nfunction finalizeValue(promise, success, data) {\n    var state = promise.__state,\n        list = state[INDEX_PENDING];\n        \n    state[INDEX_STATUS] = success;\n    state[INDEX_DATA] = data;\n    \n    // notify callbacks\n    for (; list.length; ) {\n        list[0](success, data);\n        list.splice(0, 1);\n    }\n}\n\nfunction Promise(resolver) {\n    var finalized = false;\n    var instance;\n    \n    function onFinalize(success, data) {\n        finalizeValue(instance, success, data);\n    }\n    \n    function resolve(data) {\n        if (!finalized) {\n            finalized = true;\n            resolveValue(data, onFinalize);\n        }\n    }\n    \n    function reject(error) {\n        if (!finalized) {\n            finalized = true;\n            onFinalize(false, error);\n        }\n    }\n    \n    if (!method(resolver)) {\n        throw new Error('Promise resolver is not a function.');\n    }\n    \n    instance = createPromise(this);\n    \n    try {\n        resolver(resolve, reject);\n    }\n    catch (error) {\n        reject(error);\n    }\n    \n    return instance;\n}\n\nfunction resolve(data) {\n    return new Promise(function (resolve) {\n        resolve(data);\n    });\n}\n\nfunction reject(reason) {\n    return new Promise(function () {\n        arguments[1](reason);\n    });\n}\n\nfunction all(iterable) {\n    var total;\n    \n    function resolver(resolve, reject) {\n        var list = iterable,\n            remaining = total,\n            stopped = false,\n            l = remaining,\n            c = 0,\n            result = [];\n\n        function process(index, item) {\n            function finalize(success, data) {\n                var found = result;\n                \n                if (stopped) { return; }\n                \n                if (!success) {\n                    reject(data);\n                    stopped = true;\n                    return;\n                }\n                \n                found[index] = data;\n                \n                if (!--remaining) {\n                    resolve(found);\n                }\n            }\n            resolveValue(item, finalize);\n        }\n        \n        for (result.length = l; l--; c++) {\n            process(c, list[c]);\n        }\n    }\n    \n    if (!isIterable(iterable)) {\n        throw new TypeError(ERROR_ITERABLE);\n    }\n    \n    iterable = slice.call(iterable, 0);\n    total = iterable.length;\n    \n    if (!total) {\n        return resolve([]);\n    }\n    \n    return new Promise(resolver);\n}\n\nfunction race(iterable) {\n    function resolver(resolve, reject) {\n        var stopped = false,\n            tryResolve = resolveValue,\n            list = iterable,\n            c = -1,\n            l = list.length;\n        \n        function onFulfill(success, data) {\n            if (!stopped) {\n                stopped = true;\n                (success ? resolve : reject)(data);\n            }\n        }\n        \n        for (; l--;) {\n            tryResolve(list[++c], onFulfill);\n        }\n    }\n    \n    if (!isIterable(iterable)) {\n        throw new TypeError(ERROR_ITERABLE);\n    }\n    \n    iterable = slice.call(iterable, 0);\n    \n    return new Promise(resolver);\n}\n\nPromise.prototype = {\n    constructor: Promise,\n    then: function (onFulfill, onReject) {\n        var me = this,\n            state = me.__state,\n            success = state[INDEX_STATUS],\n            list = state[INDEX_PENDING],\n            instance = createPromise();\n            \n        function run(success, data) {\n            var finalize = finalizeValue,\n                handle = success ? onFulfill : onReject;\n            \n            if (method(handle)) {\n                try {\n                    data = handle(data);\n                    resolveValue(data,\n                                function (success, data) {\n                                    finalize(instance,\n                                             success,\n                                             data);\n                                });\n                    return;\n                }\n                catch (error) {\n                    data = error;\n                    success = false;\n                }\n            }\n            finalize(instance, success, data);\n        }\n        \n        if (success === null) {\n            list[list.length] = run;\n        }\n        else {\n            setAsync(function () {\n                run(success, state[INDEX_DATA]);\n            });\n        }\n        \n        return instance;\n    },\n    \n    \"catch\": function (onReject) {\n        return this.then(null, onReject);\n    }\n};\n\n// static methods\nassign(Promise, {\n    all: all,\n    race: race,\n    reject: reject,\n    resolve: resolve\n});\n\n// Polyfill if promise is not supported\nif (!method(G.Promise)) {\n    G.Promise = Promise;\n}\n\nG = null;\n\nexport default Promise;\n\n","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","'use strict';\n\n\nvar ROOT = global,\n    browser = isBrowser(),\n    nodeVersions = nodeVersion(browser),\n    nodejs = nodeVersions && !!nodeVersions.node,\n    userAgent = getUserAgent(browser,\n                             nodeVersions),\n    validSignature = hasValidSignature(),\n    ajax = ROOT.XMLHttpRequest || null,\n    indexOfSupport = typeof Array.prototype.indexOf !== \"undefined\";\n\n\n// detect browser\nfunction isBrowser() {\n    var G = ROOT,\n        win = G.document,\n        doc = G,\n        result = !!doc && !!win &&\n                win.self === (doc.defaultView || doc.parentWindow);\n    // cleanup\n    G = win = doc = null;\n    return result;\n}\n\n// detect nodejs info\nfunction nodeVersion(browser) {\n    var G = ROOT,\n        result = browser ?\n                    false :\n                    ('process' in G && G.process.versions) || false;\n    G = null;\n    \n    return result;\n}\n\n// detect userAgent\nfunction getUserAgent(browser, nodeVersions) {\n    var G = ROOT,\n        result = 'Unknown',\n        proc = null;\n    \n    if (browser) {\n        result = G.navigator.userAgent;\n        \n    }\n    else if (nodeVersions && 'process' in G) {\n        proc = G.process;\n        result = (['Node ',\n                    nodeVersions.node,\n                    '(',\n                        proc.platform,\n                        '; V8 ',\n                        nodeVersions.v8 || 'unknown',\n                        '; arch ',\n                        proc.arch,\n                    ')']).\n                    join('');\n    }\n    \n    G = proc = null;\n    \n    return result;       \n    \n}\n\nfunction hasValidSignature() {\n    var toString = Object.prototype.toString,\n        objectSignature = '[object Object]';\n        \n    return toString.call(null) !== objectSignature ||\n                        toString.call(void(0)) !== objectSignature;\n}\n\n\nROOT = null;\n\n\n\nexport {\n    browser,\n    nodeVersions,\n    nodejs,\n    userAgent,\n    validSignature,\n    ajax,\n    indexOfSupport\n};\n\n\n","'use strict';\n\nimport * as BUNDLE from \"./all.js\";\n\nimport { use } from \"./chain.js\";\n\nuse(BUNDLE);\n\nexport * from \"./all.js\";\n\nexport default BUNDLE;\n"],"names":["signature","subject","undefined","UNDEFINED_SIGNATURE","NUMBER","isFinite","NULL_SIGNATURE","toString","call","nativeObject","constructor","result","O","OBJECT","OBJECT_SIGNATURE","hasOwnProperty","string","allowEmpty","STRING","STRING_SIGNATURE","length","number","scalar","BOOLEAN","array","notEmpty","ARRAY_SIGNATURE","method","METHOD_SIGNATURE","date","DATE_SIGNATURE","regex","REGEX_SIGNATURE","thenable","NaN","NUMBER_SIGNATURE","BOOLEAN_SIGNATURE","then","iterable","len","type","isType","charAt","toUpperCase","substring","empty","isValidObject","target","objectSignature","REGEX","DATE","ARRAY","METHOD","apply","value","name","this","applyProperties","assignAll","source","defaults","onAssign","eachProperty","EACH","applyClear","arguments","applyFillin","contains","compareLookback","object1","object2","references","context","isObject","object","isArray","isRegex","isDate","onCompare","onEachCompareObject","each","me","depth","lastIndexOf","cloneObject","data","parents","cloned","recreated","onEachClonedProperty","cloneArray","onProperty","c","l","index","isNative","clone","onMaxNumericIndex","ARRAY_INDEX_RE","test","Math","max","assign","ownedOnly","is","Error","rehash","access","property","OHasOwn","instantiate","Class","overrides","prototype","deep","slice","RegExp","flags","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","compare","fillin","hasown","clear","maxObjectIndex","getModule","CHAIN","get","info","getRunners","position","list","RUNNERS","parsed","parseName","getPositionAccess","purgeRunners","after","runners","before","splice","input","POSITION_BEFORE","namespace","match","NAME_RE","POSITION_AFTER","BaseMiddleware","run","args","scope","INVALID_NAME","Array","register","handler","items","INVALID_HANDLER","clearRunner","middleware","Middleware","registered","proto","NAMESPACES","unionList","array1","array2","total","isarray","INVALID_ARRAY1","INVALID_ARRAY2","push","found","intersectList","l1","l2","total1","total2","foundSame","differenceList","applyCamelize","all","applyUncamelize","toLowerCase","camelize","replace","CAMEL_RE","uncamelize","UNCAMEL_RE","utf2bin","code","half","HALF_BYTE","sixBits","SIX_BITS","code2char","fromCharCode","utf8","ul","INVALID_SUBJECT","charCodeAt","join","bin2utf","utf16","encode64","flag","chr","map","BASE64_MAP","buffer","bl","excess","pad","decode64","oneByte","ONE_BYTE","code2str","NOT_BASE64_RE","BASE64_EXCESS_REMOVE_RE","indexOf","trim","TRIM_RE","onParsePath","last","isAccessible","item","typeSignature","Number","String","Boolean","isWritable","isJSONWritable","findCallback","operation","onPopulatePath","iswritable","writable","success","onRemovePath","existsCallback","exists","jsonParsePath","path","jsonEach","jsonFind","jsonCompare","objectCompare","jsonClone","objectClone","callback","arg1","arg2","arg3","arg4","arg5","state","stateObject","next","actionObject","pending","start_queue","STATE","action","STATE_ACTION","start","START","start_escaped","START_ESCAPED","queue","QUEUE","end","END","end_empty","END_EMPTY","ERROR_PATH_INVALID","jsonSet","overwrite","current","valueSignature","currentSignature","arrayOperation","arrayPush","canApply","typeArray","objectAssign","NUMERIC_RE","concat","jsonUnset","returnValue","jsonFill","parent","parentIndex","arrayIndex","getMax","has","arrayIndexRe","isSubjectArray","ERROR_NATIVE_OBJECT","jsonExists","create","Registry","isIndex","createPromise","instance","Promise","__state","resolveValue","resolve","error","finalizeValue","promise","INDEX_PENDING","INDEX_STATUS","INDEX_DATA","resolver","onFinalize","reject","finalized","global","self","window","ROOT","browser","G","win","document","doc","defaultView","parentWindow","isBrowser","nodeVersions","process","versions","nodeVersion","nodejs","node","userAgent","proc","navigator","platform","v8","arch","getUserAgent","validSignature","Object","hasValidSignature","ajax","XMLHttpRequest","indexOfSupport","Obj","getOwnPropertyNames","names","hasOwn","noChecking","NATIVE_SET_IMMEDIATE","setImmediate","setAsync","setTimeout","clearAsync","id","clearImmediate","e","clearTimeout","A","[","'","\"","default","\\","bracket_start","]","any_sq_start","any_sq","any_sq_escape","any_dq_start","any_dq","any_dq_escape","sq_start","sq","sq_escape","dq_start","dq","dq_escape","bracket_any","bracket_any_escape","bracket_end","any",".","any_escape","property_end","ERROR_NAME","ERROR_PATH","onApply","onSet","set","unset","find","insert","remove","pathExists","ERROR_ITERABLE","onFulfill","onReject","finalize","handle","catch","isIterable","TypeError","remaining","stopped","race","tryResolve","reason","chain","use","BUNDLE"],"mappings":"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"}