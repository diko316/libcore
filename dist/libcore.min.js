!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.libcore={})}(this,function(e){"use strict";var r,t,n,a,o,c,i,s,u="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},f=u,l=(t=(r=f).document,a=!!(n=r)&&!!t&&t.self===(n.defaultView||n.parentWindow),r=t=n=null,a),h=(o=f,c=!l&&("process"in o&&o.process.versions||!1),o=null,c),d=h&&!!h.node,p=function(e,r){var t=f,n="Unknown",a=null;e?n=t.navigator.userAgent:r&&"process"in t&&(a=t.process,n=["Node ",r.node,"(",a.platform,"; V8 ",r.v8||"unknown","; arch ",a.arch,")"].join(""));return t=a=null,n}(l,h),w=(i=Object.prototype.toString,s="[object Object]",i.call(null)!==s||i.call(void 0)!==s),y=f.XMLHttpRequest||null,v=void 0!==Array.prototype.indexOf;f=null;var _=Object.freeze({browser:l,nodeVersions:h,nodejs:d,userAgent:p,validSignature:w,ajax:y,indexOfSupport:v}),b="[object Object]",g="[object Array]",E="[object Null]",m="[object Undefined]",q="[object Number]",j="[object String]",k="[object Boolean]",A="[object Function]",I="[object Date]",O="[object RegExp]",x="string",N="number",C="boolean",R=Object,S=R.prototype,P=S.toString,F=w?function(e){return P.call(e)===b}:function(e){return null!=e&&P.call(e)===b};function L(e){return void 0===e?m:null===e||typeof e===N&&!isFinite(e)?E:P.call(e)}function T(e){var r,t,n=R;return L(e)===b&&(r=e.constructor,n.hasOwnProperty.call(e,"constructor")?(delete e.constructor,t=e.constructor===n,e.constructor=r,t):r===n)}function U(e,r){return!(typeof e!==x&&S.toString.call(e)!==j||!0!==r&&0===e.length)}function z(e){return typeof e===N&&isFinite(e)}function D(e){switch(typeof e){case N:return isFinite(e);case C:case x:return!0}return!1}function M(e,r){return P.call(e)===g&&(!0!==r||0!==e.length)}function B(e){return P.call(e)===A}function G(e){return P.call(e)===I}function H(e){return P.call(e)===O}function Z(e){switch(e){case void 0:case null:case!0:case!1:return!1}switch(L(e)){case q:case j:case k:case E:case m:return!1}return"then"in e&&B(e.then)}function $(e){var r;switch(e){case void 0:case null:case!0:case!1:case NaN:return!1}switch(L(e)){case q:case k:case A:return!1;case j:case g:return!0}return"length"in e&&z(r=e.length)&&-1<r}function V(e,r){var t;switch(r){case"scalar":switch(L(e)){case j:case q:case k:return!0}return!1;case"regexp":case"regex":r="RegExp";break;case"method":r="Function";break;case"native":case"nativeObject":return T(e)}return!(typeof r!==x||!(t=r.length))&&L(e)==="[object "+r.charAt(0).toUpperCase()+r.substring(1,t)+"]"}var X=Object,Y=X.prototype,J="function"==typeof X.getOwnPropertyNames?function(e,r,t,n){var a,o,c,i,s=W,u=!1===n;if(!ee(e))throw new Error("Invalid [subject] parameter.");if(3<arguments.length&&"boolean"!=typeof n)throw new Error("Invalid [hasown] hasOwnProperty parameter.");void 0===t&&(t=null);for(a=X.getOwnPropertyNames(e),c=-1,i=a.length;i--&&(o=a[++c],!u&&!s.call(e,o)||!1!==r.call(t,e[o],o,e)););return e}:function(e,r,t,n){var a,o=W,c=!1===n;if(!ee(e))throw new Error("Invalid [subject] parameter.");if(3<arguments.length&&"boolean"!=typeof n)throw new Error("Invalid [hasown] hasOwnProperty parameter.");void 0===t&&(t=null);for(a in e)if((c||o.call(e,a))&&!1===r.call(t,e[a],a,e))break;return e},W=Y.hasOwnProperty,K=/^[1-9][0-9]*|0$/;function Q(){}function ee(e){var r=L(e);switch(r){case O:case I:case g:case b:case A:return r}return!1}function re(e,r){this[r]=e}function te(e,r){var t=this;t[0][r]=t[1][e],t=null}function ne(){delete arguments[2][arguments[1]]}function ae(e,r){var t=this;de(t,r)||(t[r]=e),t=null}function oe(e,r,t){var n,a,o=F,c=M,i=H,s=G,u=ce,f=J,l=oe,h=t.length;switch(!0){case e===r:return!0;case o(e):return!!o(r)&&(-1!==t.lastIndexOf(e)&&-1!==t.lastIndexOf(r)||(f(t[h]=e,u,a=[t[h+1]=r,t,!0]),!!a[2]&&(a[0]=e,f(r,u,a),!!a[2]&&(t.length=h,!0))));case c(e):if(!c(r))return!1;if(-1!==t.lastIndexOf(e)&&-1!==t.lastIndexOf(r))return!0;if((n=e.length)!==r.length)return!1;for(t[h]=e,t[h+1]=r;n--;)if(!l(e[n],r[n],t))return!1;return t.length=h,!0;case i(e):return i(r)&&e.source===r.source;case s(e):return s(r)&&e.toString()===r.toString()}return!1}function ce(e,r){var t=this[0],n=r in t&&oe(e,t[r],this[1]);return this[2]=n}function ie(e,r,t){var n=r.length,a={},o=[a,r,t];return r[n]=e,t[n]=a,J(e,ue,o),r.length=t.length=n,a}function se(e,r,t){var n=r.length,a=ue,o=[],c=[o,r,t],i=0,s=e.length;for(r[n]=e,t[n]=o;s--;i++)a.call(c,e[i],i,e);return r.length=t.length=n,o}function ue(e,r){var t,n=T(e),a=this[1],o=this[2];e=n||M(e)?-1===(t=a.lastIndexOf(e))?(n?ie:se)(e,a,o):o[t]:we(e,!1),this[0][r]=e}function fe(e,r,t){K.test(r)&&(t[0]=Math.max(1*r,t[0]))}function le(e,r,t,n){var a=re,o=ee,c=J,i=arguments.length;if(!o(e))throw new Error("Invalid [target] parameter.");if(!o(r))throw new Error("Invalid [source] parameter.");if("boolean"==typeof t?(n=t,i=2):n=!1!==n,o(t))c(t,a,e,n);else if(2<i)throw new Error("Invalid [defaults] parameter.");return c(r,a,e,n),e}function he(e,r,t){var n=ee,a=[e,r];if(!n(e))throw new Error("Invalid [target] parameter.");if(!n(r))throw new Error("Invalid [source] parameter.");if(!F(t))throw new Error("Invalid [access] parameter.");return J(t,te,a),a=a[0]=a[1]=null,e}function de(e,r){if(!U(r)&&!z(r))throw new Error("Invalid [property] parameter.");return W.call(e,r)}function pe(e,r){return Q.prototype=e.prototype,F(r)?le(new Q,r):new Q}function we(e,r){var t,n,a,o,c,i=T(e);return r=!0===r,i||M(e)?r?(i?ie:se)(e,[],[]):i?(t={},n=e,o=re,c=J,a&&c(a,o,t,!1),c(n,o,t),t):e.slice(0):H(e)?new RegExp(e.source,e.flags):G(e)?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):e}function ye(e,r){return oe(e,r,[])}function ve(e,r,t){if(!ee(e))throw new Error("Invalid [target] parameter");return J(r,ae,e,!1!==t),e}function _e(e){return J(e,ne,null,!0),e}function be(e){var r;return M(e)?e.length-1:!!ee(e)&&(J(e,fe,r=[-1]),r[0])}var ge=null;function Ee(){return ge}var me=u,qe=/^(([^\.]+\.)*)((before|after)\:)?([a-zA-Z0-9\_\-\.]+)$/,je=1,ke=2,Ae={},Ie={},Oe="Invalid [name] parameter.",xe="Invalid [handler] parameter.",Ne=!!me.setImmediate,Ce=Ne?function(e){if(!B(e))throw new Error(xe);return me.setImmediate(e)}:function(e){if(!B(e))throw new Error(xe);return me.setTimeout(e,1)},Re=Ne?function(e){try{me.clearImmediate(e)}catch(e){}return Ee()}:function(e){try{me.clearTimeout(e)}catch(e){}return Ee()};function Se(){}function Pe(e){var r,t,n=Ae,a=Te(e);if(a&&(r=":"+a[1])in n)return t=a[0],[n[r],Le(t),t]}function Fe(e,r){var t,n,a=Pe(e);if(a){switch(n=a[1],r){case!0:n="after";break;case!1:n="before";break;case null:case void 0:n=!1}n&&"before"!==n||(t=a[0].before).splice(0,t.length),n&&"after"!==n||(t=a[0].after).splice(0,t.length)}return Ee()}function Le(e){return e===je?"before":"after"}function Te(e){var r,t=U(e)&&e.match(qe);if(t)return r=t[1],["before"===t[4]?je:ke,(r||"")+t[5]]}function Ue(){}function ze(e,r,t){var n,a,o,c;if(!U(e))throw new Error(Oe);if(o=function(e){var r=Pe(e);if(r)return r[0][r[1]]}(e)){for(void 0===t&&(t=null),r=$(r)?Array.prototype.slice.call(r,0):[],n=-1,a=o.length;a--;)void 0!==(c=o[++n].apply(t,r))&&(r=[c]);return r.splice(0,r.length),c}}function De(e,r){var t,n,a,o=Ae;if(!U(e))throw new Error(Oe);if(a=Te(e),!B(r))throw new Error(xe);return a&&((t=":"+(e=a[1]))in o||(o[t]={name:e,before:[],after:[]}),(n=o[t][Le(a[0])])[n.length]=r),Ee()}function Me(e,r){if(!U(e))throw new Error(Oe);return 1<arguments.length?Fe(e,r):Fe(e),Ee()}function Be(e){var r,t,n,a=Ie;function o(){Ue.apply(this,arguments)}if(!U(e))throw new Error(Oe);return(r=e+".")in a?a[r]:(Se.prototype=Ue.prototype,(n=new Se(r)).constructor=o,n.access=r,o.prototype=n,a[r]=t=new o,t)}Ue.prototype={constructor:Ue,run:function(e,r,t){return ze(this.access+e,r,t)},register:function(e,r){return De(this.access+e,r),this},clear:function(e,r){var t=this.access;if(!U(e))throw new Error(Oe);return 1<arguments.length?Fe(t+e,r):Fe(t+e),this}};var Ge="Invalid [array1] parameter.",He="Invalid [array2] parameter.",Ze=Array.prototype;function $e(e,r,t){var n,a,o,c,i=M;if(!i(e))throw new Error(Ge);if(!i(r))throw new Error(He);(e=!0===t?e.slice(0):e).push.apply(e,r);e:for(a=c=e.length;a--;)for(n=e[a],o=c;o--;)if(a!==o&&n===e[o]){c--,e.splice(a,1);continue e}return e}function Ve(e,r,t){var n,a,o,c,i,s=M;if(!s(e))throw new Error(Ge);if(!s(r))throw new Error(He);c=e.length,i=r.length,e=!0===t?e.slice(0):e;e:for(a=c;a--;){n=e[a];r:for(o=i;o--;)if(n===r[o]){for(o=c;o--;)if(o!==a&&n===e[o])break r;continue e}e.splice(a,1),c--}return e}function Xe(e,r,t){var n,a,o,c,i,s=M;if(!s(e))throw new Error(Ge);if(!s(r))throw new Error(He);c=e.length,i=r.length,e=!0===t?e.slice(0):e;e:for(a=c;a--;){for(n=e[a],o=i;o--;)if(n===r[o]){e.splice(a,1),c--;continue e}for(o=c;o--;)if(o!==a&&n===e[o]){e.splice(a,1),c--;continue e}}return e}v||le(Ze,{indexOf:function(e){for(var r=this,t=r.length,n=-1;t--;)if(e===r[++n])return r=null,n;return-1},lastIndexOf:function(e){for(var r=this,t=r.length;t--;)if(e===r[t])return r=null,t;return-1}});var Ye=128,Je=63,We=255,Ke=String.fromCharCode,Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",er=/[^a-zA-Z0-9\+\/\=]/g,rr=/[^a-zA-Z0-9\+\/]/,tr=/[^a-z]+[a-z]/gi,nr=/\-*[A-Z]/g,ar=/^\s+|\s+$/g,or="Invalid [subject] parameter.";function cr(e){return e.charAt(e.length-1).toUpperCase()}function ir(e){return"-"+e.charAt(e.length-1).toLowerCase()}function sr(e){return e.replace(tr,cr)}function ur(e){return e.replace(nr,ir)}function fr(e){var r,t,n,a=Ye,o=Je,c=Ke,i=[],s=0;if(!U(e,!0))throw new Error(or);for(t=-1,n=e.length;n--;)(r=e.charCodeAt(++t))<a?i[s++]=c(r):r<2048?(i[s++]=c(192|r>>6),i[s++]=c(a|r&o)):r<55296||57343<r?(i[s++]=c(224|r>>12),i[s++]=c(a|r>>6&o),i[s++]=c(a|r&o)):(n--,r=65536+((1023&r)<<10|1023&e.charCodeAt(++t)),i[s++]=c(240|r>>18),i[s++]=c(a|r>>12&o),i[s++]=c(a|r>>6&o),i[s++]=c(a|r>>o));return i.join("")}function lr(e){var r,t,n,a,o,c=Ke;if(!U(e,!0))throw new Error(or);for(r=[],t=0,n=-1,a=e.length;a--;)switch((o=e.charCodeAt(++n))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[t++]=e.charAt(n);break;case 12:case 13:a--,r[t++]=c((31&o)<<6|63&e.charCodeAt(++n));break;case 14:r[t++]=c((15&o)<<12|(63&e.charCodeAt(++n))<<6|(63&e.charCodeAt(++n))<<0),a-=2}return r.join("")}function hr(e){var r,t,n,a,o=Qe,c=[],i=0,s=-1,u=!1,f=o.charAt(64);if(!U(e,!0))throw new Error(or);for(r=(e=fr(e)).length;r--;){switch(t=e.charCodeAt(++s),n=s%3){case 0:a=o.charAt((252&t)>>2),u=(3&t)<<4;break;case 1:a=o.charAt(u|(240&t)>>4),u=(15&t)<<2;break;case 2:a=o.charAt(u|(192&t)>>6),u=63&t}if(c[i++]=a,(!r||2===n)&&(c[i++]=o.charAt(u)),!r){for(r=(r=i%4)&&4-r;r--;)c[i++]=f;break}}return c.join("")}function dr(e){var r,t,n,a,o,c=Qe,i=We,s=[],u=0,f=-1,l=Ke;if(!U(e,!0)||er.test(e))throw new Error(or);for(r=(e=e.replace(rr,"")).length;r--;){switch(t=c.indexOf(e.charAt(++f)),o=f%4){case 0:a=0;break;case 1:a=(n<<2|t>>4)&i;break;case 2:a=(n<<4|t>>2)&i;break;case 3:a=(n<<6|t)&i}if(n=t,!r&&o<3&&a<64)break;o&&(s[u++]=l(a))}return lr(s.join(""))}function pr(e){if(!U(e,!0))throw new Error(or);return e?e.replace(ar,""):e}var wr=/^([1-9][0-9]*|0)$/,yr=/^([1-9][0-9]*|0|)$/,vr="Root [subject] requires native Object to accept non-numeric property name.",_r="Invalid [path] parameter.",br="start",gr="start_escaped",Er="queue",mr="end",qr="end_empty",jr={start:{"[":"bracket_start","'":"any_sq_start",'"':"any_dq_start",default:"any","\\":"any_escape"},bracket_start:{"]":"property_end","'":"sq_start",'"':"dq_start",default:"bracket_any"},any_sq_start:{"'":"property_end","\\":"any_sq_escape",default:"any_sq"},any_sq:{"'":"property_end","\\":"any_sq_escape",default:"any_sq"},any_sq_escape:{default:"any_sq"},any_dq_start:{'"':"property_end","\\":"any_dq_escape",default:"any_dq"},any_dq:{'"':"property_end","\\":"any_dq_escape",default:"any_dq"},any_dq_escape:{default:"any_dq"},sq_start:{"'":"bracket_end","\\":"sq_escape",default:"sq"},sq:{"'":"bracket_end","\\":"sq_escape",default:"sq"},sq_escape:{default:"sq"},dq_start:{'"':"bracket_end","\\":"dq_escape",default:"dq"},dq:{'"':"bracket_end","\\":"dq_escape",default:"dq"},dq_escape:{default:"dq"},bracket_any:{"]":"property_end","\\":"bracket_any_escape",default:"bracket_any"},bracket_any_escape:{default:"bracket_any"},bracket_end:{"]":"property_end"},any:{".":"start","\\":"any_escape","[":"bracket_start",default:"any"},any_escape:{default:"any"},property_end:{"[":"bracket_start",".":"start"}},kr={start:{any:br,any_escape:gr},any_sq_start:{any_sq:br,property_end:qr},any_sq:{any_sq:Er,property_end:mr},any_sq_escape:{any_sq:Er},any_dq_start:{any_dq:br,property_end:qr},any_dq:{any_dq:Er,property_end:mr},any_dq_escape:{any_dq:Er},any:{any:Er,start:mr,bracket_start:mr},any_escape:{any:Er,bracket_start:mr,start:br},bracket_start:{bracket_any:br,property_end:qr},bracket_any:{bracket_any:Er,property_end:mr},bracket_any_escape:{bracket_any:Er},sq_start:{sq:br,bracket_end:qr},sq:{sq:Er,bracket_end:mr},sq_escape:{sq:Er},dq_start:{dq:br,bracket_end:qr},dq:{dq:Er,bracket_end:mr},dq_escape:{dq:Er}};function Ar(e,r,t){t[t.length]=e}function Ir(e,r){var t=L(e);switch(t){case q:return isFinite(e)&&r in Number.prototype&&t;case j:return r in String.prototype&&t;case k:return r in Boolean.prototype&&t;case O:case I:case g:case b:case A:if(r in e)return t}return!1}function Or(e){var r=L(e);switch(r){case O:case I:case g:case b:case A:return r}return!1}function xr(e){var r=L(e);switch(r){case g:case b:return r}return!1}function Nr(e,r,t){var n=t[1];return Ir(n,e)?(t[r?0:1]=n[e],!0):(t[0]=void 0,!1)}function Cr(e,r,t){var n=t[1],a=Or,o=a(n),c=!1;return r?(c=o,t[2]=c&&e):(o&&(e in n?a(n[e])&&(c=!0):(n[e]={},c=!0)),t[1]=c?n[e]:void 0),c}function Rr(e,r,t){var n=t[1],a=Or,o=a(n),c=!1;return r?(c=o,t[2]=c&&e,t[3]=!0):(o&&e in n&&(a(n[e])?c=!0:t[3]=!0),t[1]=c?n[e]:void 0),c}function Sr(e,r,t){var n=t[0],a=Ir(n,e);return a&&(t[0]=n[e]),r&&(t[1]=!!a),a}function Pr(e){var r=[];return Ur(e,Ar,r)&&r.length?r:null}function Fr(e,r){var t=[void 0,r];return Ur(e,Nr,t),t[1]=null,t[0]}function Lr(e,r,t){return ye(Fr(e,r),t)}function Tr(e,r,t){return we(Fr(e,r),!0===t)}function Ur(e,r,t,n,a,o,c){var i,s,u,f,l,h,d,p,w,y,v,_,b,g,E=jr,m=kr,q=br,j=gr,k=Er,A=mr,I=qr,O="default";if(!U(e))throw new Error(_r);if(!B(r))throw new Error("Invalid [callback] parameter");for(v=_=!1,f="start",l=E.start,h=[],d=b=0,i=-1,s=e.length;s--;){if(!1,p=!s,(u=e.charAt(++i))in l)w=l[u];else{if(!(O in l))return null;w=l[O]}if(f in m&&w in(y=m[f]))switch(g=!1,y[w]){case q:g=!0;case j:if(!1!==v)return!1;if(g&&!p?(v=[u],_=1):(v=[],_=0),!p)break;case k:if(!1===v)return!1;if(v[_++]=u,!p)break;case A:if(!1===v)return!1;h[d++]=v.join(""),v=_=!1;break;case I:if(!1!==v)return!1;h[d++]=""}if(l=E[f=w],b<d-1&&!1===r(h[b++],!1,t,n,a,o,c))return!0;if(p){for(s=d-b;s--;)if(!1===r(h[b++],!s,t,n,a,o,c))return!0;break}}return!0}function zr(e,r,t,n){var a,o,c,i,s,u,f,l,h=g,d=le,p=Or;if(!U(e))throw new Error(_r);if(Ur(e,Cr,a=[void 0,r,!1]),!1!==(o=a[2])){switch(r=a[1],i=p(t),u=M(r)&&wr.test(o),o in r?s=p(c=r[o]):(c=void 0,s=null),f=(l=i&&!!s)&&i===h&&s===h,n){case"insert":n=!u,u&&r.splice(1*o,0,t);break;case"apply":n=!l,l&&d(c,t);break;case"push":n=!f,f&&c.push.apply(c,t);break;case"unshift":n=!f,f&&c.splice.apply(c,[0,0].concat(t));break;case!1:default:n=!l,l&&(f?c.push.apply(c,t):d(c,t))}return!0===n&&(r[o]=t),!0}return!1}function Dr(e,r){var t,n,a;if(!U(e))throw new Error(_r);return Ur(e,Rr,t=[void 0,r,!1,!1]),n=t[2],(a=t[3])&&!1!==n&&(n in(r=t[1])?M(r)&&wr.test(n)?r.splice(1*n,1):(delete r[n],a=!(n in r)):a=!1),a}function Mr(e,r,t){var n,a,o,c,i,s,u,f,l=g,h=be,d=le,p=de,w=yr,y=xr,v=M(r);if(!U(e))throw new Error(_r);if(!F(r)&&!v)return!1;if(!(e=Pr(e))||!e.length)return!1;for(n=r,(i=e[0])||(i=h(n)+1),o=e.length-1,a=0;o--;){if(c=e[++a],u=w.test(c),p(n,i))(f=y(s=n[i]))!==l||u?f||(s=u?[s]:{"":s}):delete(s=d({},s)).length;else{if(v&&n===r&&!u)throw new Error(vr);s=u?[]:{}}n=n[i]=s,(i=c)||(i=h(n)+1)}return n[i]=t,!0}function Br(e,r){var t=[r,!1];return Ur(e,Sr,t),t[0]=null,t[1]}var Gr="Invalid [name] parameter.",Hr="Invalid [path] parameter.";function Zr(){return new Vr}function $r(e){switch(L(e)){case j:case q:return!0}return!1}function Vr(){this.data={}}Vr.prototype={constructor:Vr,onApply:function(e){le(this.data,e,!0)},onSet:function(e,r){this.data[e]=r},get:function(e){var r=this.data;if(!$r(e))throw new Error(Gr);if(de(r,e))return r[e]},set:function(e,r){switch(L(e)){case b:case g:this.onApply(e);break;case j:case q:this.onSet(e,r);break;default:throw new Error(Gr)}return this},unset:function(e){var r=this.data;if(!$r(e))throw new Error(Gr);return de(r,e)&&delete r[e],this},find:function(e){if(!U(e))throw new Error(Hr);return Fr(e,this.data)},insert:function(e,r){if(!U(e))throw new Error(Hr);return Mr(e,this.data,r),this},remove:function(e){if(!U(e))throw new Error(Hr);return Dr(e,this.data),this},exists:function(e){if(!$r(e))throw new Error(Gr);return de(this.data,e)},pathExists:function(e){if(!U(e))throw new Error(Hr);return Br(e,this.data)},assign:function(e){switch(L(e)){case b:case g:return this.onApply(e),this;default:throw new Error("Invalid [value] parameter")}},clear:function(){return _e(this.data),this},clone:function(){return we(this.data,!0)}};var Xr=Array.prototype.slice,Yr=u,Jr="Invalid [iterable] parameter.",Wr=0,Kr=1,Qr=2;function et(e){return e instanceof nt||(e=pe(nt)),e.__state=[null,void 0,[],null,null],e}function rt(e,r){function t(e){try{r(!0,e)}catch(e){r(!1,e)}}Z(e)?e.then(t,function(e){r(!1,e)}):t(e)}function tt(e,r,t){var n=e.__state,a=n[Qr];for(n[Wr]=r,n[Kr]=t;a.length;)a[0](r,t),a.splice(0,1)}function nt(e){var t,r=!1;function n(e,r){tt(t,e,r)}function a(e){r||n(!(r=!0),e)}if(!B(e))throw new Error("Promise resolver is not a function.");t=et(this);try{e(function(e){r||(r=!0,rt(e,n))},a)}catch(e){a(e)}return t}function at(r){return new nt(function(e){e(r)})}nt.prototype={constructor:nt,then:function(a,o){var e=this.__state,r=e[Wr],t=e[Qr],c=et();function n(r,t){var n=tt,e=r?a:o;if(B(e))try{return void rt(t=e(t),function(e,r){n(c,e,r)})}catch(e){t=e,r=!1}n(c,r,t)}return null===r?t[t.length]=n:Ce(function(){n(r,e[Kr])}),c},catch:function(e){return this.then(null,e)}},le(nt,{all:function(u){var f;if(!$(u))throw new TypeError(Jr);return u=Xr.call(u,0),(f=u.length)?new nt(function(a,o){var e=u,c=f,i=!1,r=c,t=0,s=[];function n(n,e){rt(e,function(e,r){var t=s;if(!i){if(!e)return o(r),void(i=!0);t[n]=r,--c||a(t)}})}for(s.length=r;r--;t++)n(t,e[t])}):at([])},race:function(s){if(!$(s))throw new TypeError(Jr);return s=Xr.call(s,0),new nt(function(t,n){var a=!1,e=rt,r=s,o=-1,c=r.length;function i(e,r){a||(a=!0,(e?t:n)(r))}for(;c--;)e(r[++o],i)})},reject:function(e){return new nt(function(){arguments[1](e)})},resolve:at}),B(Yr.Promise)||(Yr.Promise=nt),Yr=null;var ot=Object.freeze({env:_,each:J,assign:le,rehash:he,contains:de,instantiate:pe,clone:we,compare:ye,fillin:ve,clear:_e,maxObjectIndex:be,setAsync:Ce,clearAsync:Re,run:ze,register:De,clearRunner:Me,middleware:Be,object:F,OBJECT:b,ARRAY:g,NULL:E,UNDEFINED:m,NUMBER:q,STRING:j,BOOLEAN:k,METHOD:A,FUNCTION:A,DATE:I,REGEX:O,signature:L,nativeObject:T,string:U,number:z,scalar:D,array:M,method:B,date:G,regex:H,thenable:Z,iterable:$,type:V,unionList:$e,intersectList:Ve,differenceList:Xe,camelize:sr,uncamelize:ur,utf2bin:fr,bin2utf:lr,encode64:hr,decode64:dr,trim:pr,jsonParsePath:Pr,jsonFind:Fr,jsonCompare:Lr,jsonClone:Tr,jsonEach:Ur,jsonSet:zr,jsonUnset:Dr,jsonFill:Mr,jsonExists:Br,createRegistry:Zr,Promise:nt});ge=ot,e.default=ot,e.env=_,e.each=J,e.assign=le,e.rehash=he,e.contains=de,e.instantiate=pe,e.clone=we,e.compare=ye,e.fillin=ve,e.clear=_e,e.maxObjectIndex=be,e.setAsync=Ce,e.clearAsync=Re,e.run=ze,e.register=De,e.clearRunner=Me,e.middleware=Be,e.object=F,e.OBJECT=b,e.ARRAY=g,e.NULL=E,e.UNDEFINED=m,e.NUMBER=q,e.STRING=j,e.BOOLEAN=k,e.METHOD=A,e.FUNCTION=A,e.DATE=I,e.REGEX=O,e.signature=L,e.nativeObject=T,e.string=U,e.number=z,e.scalar=D,e.array=M,e.method=B,e.date=G,e.regex=H,e.thenable=Z,e.iterable=$,e.type=V,e.unionList=$e,e.intersectList=Ve,e.differenceList=Xe,e.camelize=sr,e.uncamelize=ur,e.utf2bin=fr,e.bin2utf=lr,e.encode64=hr,e.decode64=dr,e.trim=pr,e.jsonParsePath=Pr,e.jsonFind=Fr,e.jsonCompare=Lr,e.jsonClone=Tr,e.jsonEach=Ur,e.jsonSet=zr,e.jsonUnset=Dr,e.jsonFill=Mr,e.jsonExists=Br,e.createRegistry=Zr,e.Promise=nt,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=libcore.min.js.map
